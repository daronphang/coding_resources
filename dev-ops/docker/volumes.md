## Volumes

Volumes are the preferred mechanism for persistent data generated by and used by Docker containers. When a container is started, Docker loads the read-only image layer, adds a read-write layer on top of the image stack, and mounts volumes on the container filesystem.

Containers are usually immutable (to change, only re-deploy). However, databases are not, and Docker gives features to ensure 'separation of concerns'. Two ways to solve it: Volumes and Bind Mounts that will outlive the executable. Volumes make special location outside of container Union File System. Bind Mounts link container path to host path i.e. maps files from host directory into a directory in the container.

When container gets deleted, volume does not get automatically deleted.

```console
$ docker volume create [OPTIONS] [VOLUME]

$ docker volume create my-vol
$ docker volume ls
$ docker volume inspect my-vol
$ docker volume rm my-vol

$ docker volume rm <vol_name1> <vol_name2>
$ docker volume prune    # removes all volumes not used by at least 1 container
```

## Volume Types

### Host-mounted Volumes

Host path can be defined as an absolute or as relative path. By default, the volumes are created inside /var/lib/docker/volume local host directory. Hence, don't have to specify the host directory.

```
/host/path:/container/path

/var/lib/mysql
/var/opt/my_website/dist:/usr/share/nginx/html:ro
```

### Docker Named Volumes

Can be defined as internal (default) or external. 

Internal volumes have the scope of a single Docker-compose file and Docker creates them if they don't exist. External volumes can be used across the Docker installation and they need to be created by the user (otherwise fails) using the "docker volume create" command.

```
named_volume_name:/container/path


```
